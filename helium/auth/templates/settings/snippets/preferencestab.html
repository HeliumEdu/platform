<div id="settings-tab-preferences"
     class="tab-pane fade{% if not settings_tab or settings_tab == '#settings-tab-preferences' %} in active{% endif %}">
    <h4 class="blue page-header">
        <i class="icon-edit bigger-110"></i>
        Preferences
    </h4>

    {% include 'snippets/status.html' with status_id_suffix='_preferences' %}

    <div class="space-8"></div>

    <form class="form-horizontal" id="preferences-form" role="form">{% csrf_token %}
        <div class="row">
            <div class="col-sm-6 col-xs-12">
                <div class="form-group">
                    <label class="col-sm-4 control-label" for="id_default_view">Default view</label>

                    <div class="col-sm-4">
                        <select class="form-control" id="id_default_view" name="default_view">
                            <option value="0">Month</option>
                            <option value="1">Week</option>
                            <option value="2">Day</option>
                            <option value="3">List</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-4 control-label" for="id_week_starts_on">Week starts on</label>

                    <div class="col-sm-4">
                        <select class="form-control" id="id_week_starts_on" name="week_starts_on">
                            <option value="0">Sunday</option>
                            <option value="1">Monday</option>
                            <option value="2">Tuesday</option>
                            <option value="3">Wednesday</option>
                            <option value="4">Thursday</option>
                            <option value="5">Friday</option>
                            <option value="6">Saturday</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-4 control-label" for="id_time_zone">Time zone</label>

                    <div class="col-sm-5">
                        {% include 'snippets/timezoneselect.html' %}
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-4 control-label" for="id_events_color">Events color</label>

                    <div class="col-sm-5 col-xs-12">
                        {% include 'snippets/colorselect.html' with select_id='events_color' %}
                    </div>
                </div>
            </div>

            <div class="col-sm-6 col-xs-12">
                <div class="form-group">
                    <label class="col-sm-4 control-label" for="id_default_reminder_type">Default reminder</label>

                    <div class="col-sm-4">
                        <select class="form-control" id="id_default_reminder_type" name="default_reminder_type">
                            <option value="0">Popup</option>
                            <option value="1">Email</option>
                            <option value="2">Text</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-4 control-label" for="id_default_reminder_offset">Default reminder
                        offset</label>

                    <div class="col-sm-4">
                        <input class="form-control" id="id_default_reminder_offset" min="0"
                               name="default_reminder_offset" type="number">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-4 control-label" for="id_default_reminder_offset_type">Default reminder offset
                        type</label>

                    <div class="col-sm-4">
                        <select class="form-control" id="id_default_reminder_offset_type"
                                name="default_reminder_offset_type">
                            <option value="0">minutes</option>
                            <option value="1">hours</option>
                            <option value="2">days</option>
                            <option value="3">weeks</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-offset-2 col-sm-8">
                <div class="widget-box">
                    <div class="widget-header">
                        <h5 class="widget-title bigger lighter">
                            <i class="ace-icon fa fa-table"></i>
                            External Calendars
                        </h5>

                        <div class="widget-toolbar no-border">
                            <span class="externalcalendars-help help-button"
                                  data-rel="popover"
                                  data-trigger="hover" data-container="body"
                                  data-placement="left"
                                  data-content="The URL for a calendar feed needs to point to a Google Calendar ICAL feed, instructions for which can be found by clicking on this question mark"
                                  title="Calendar Feeds">?</span>
                            <button type="button" class="btn btn-xs btn-primary"
                                    id="create-externalcalendar">
                                <i class="icon-plus align-top bigger-125"></i>
                                Feed
                            </button>
                        </div>
                    </div>

                    <div class="widget-body no-padding">
                        <div class="widget-main no-padding">
                            <table id="externalcalendars-table"
                                   class="table table-striped table-bordered table-hover">
                                <thead class="thin-border-bottom">
                                <tr>
                                    <th width="20%">Name</th>
                                    <th width="50%"
                                        class="hidden-480">URL
                                    </th>
                                    <th width="80px">Enabled</th>
                                    <th width="70px">Color</th>
                                    <th width="40px"></th>
                                </tr>
                                </thead>

                                <tbody id="externalcalendars-table-body">
                                <tr id="no-externalcalendars">
                                    <td colspan="5" class="text-center">
                                        No external calendars. Add calendar feeds that
                                        you'd like to see displayed on the Calendar.
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <hr/>

        <div class="form-group pull-right">
            <div id="preferences-loading" class="loading-mini">
                <div id="loading-preferences"></div>
            </div>
            <button type="submit" class="btn btn-primary btn-sm">
                <i class="icon-check"></i>
                Save
            </button>
        </div>
    </form>
</div>